# Редизайн системы управления участниками

## Обзор изменений

Проект был полностью переработан с учетом новых требований к полям участников и современного дизайна на базе Tailwind CSS.

## Новые поля участников

### 1. ФИО
- Поле: `post_title`
- Тип: текст
- Обязательное: да

### 2. Компания
- Поле: `member_company`
- Тип: текст

### 3. Должность
- Поле: `member_position`
- Тип: текст

### 4. Город
- Поле: `member_city`
- Тип: текст

### 5. Роль в ассоциации
- Таксономия: `member_role`
- Тип: теги (множественный выбор)
- Примеры: Активист, Эксперт, Куратор секции, Амбассадор

### 6. Специализация и стаж
- Поле: `member_specialization_experience`
- Тип: textarea (множественные буллеты)
- Формат: каждый пункт с новой строки
- Пример:
  ```
  • Бизнес-тренер — 19 лет
  • Методолог — 5 лет
  ```

### 7. Сфера профессиональных интересов
- Поле: `member_professional_interests`
- Тип: textarea (множественные буллеты)
- Формат: каждый пункт с новой строки
- Пример:
  ```
  • Методология обучения взрослых
  • Командообразование
  ```

### 8. Ожидания от сотрудничества
- Поле: `member_expectations`
- Тип: WYSIWYG HTML
- Поддерживает форматирование текста

### 9. О себе
- Поле: `member_bio`
- Тип: WYSIWYG HTML
- Поддерживает форматирование текста

## Файлы проекта

### Основные компоненты

1. **members-management-pro.php**
   - Главный файл плагина
   - Обновленные мета-боксы в админке
   - Новые поля с правильной санитизацией

2. **includes/class-member-csv-importer.php**
   - Обновленный импортер CSV
   - Поддержка новых полей
   - Правильная обработка HTML и буллетов

3. **single-members.php**
   - Шаблон профиля участника
   - Дизайн на базе Tailwind CSS
   - Фирменные цвета Метода (#0066cc, #ff6600)
   - Поддержка фотогалереи

4. **templates/archive-members.php**
   - Архив всех участников
   - Фильтры по городу и роли
   - Поиск по имени
   - Адаптивная сетка карточек

### Вспомогательные файлы

5. **convert_csv.php**
   - Скрипт для конвертации CSV
   - Преобразует заголовки в формат WordPress
   - Запуск: `php convert_csv.php`

6. **uchastniki_experts_corrected.csv**
   - Исходный CSV с данными участников
   - Правильная структура полей

7. **wordpress_members_import_FINAL.csv**
   - Конвертированный CSV для импорта
   - Готов к загрузке через админку

## Инструкция по импорту данных

### Шаг 1: Конвертация CSV

```bash
php convert_csv.php
```

Скрипт создаст файл `wordpress_members_import_FINAL.csv`

### Шаг 2: Импорт через админку

1. Войдите в админку WordPress
2. Перейдите: **Участники → Импорт CSV**
3. Загрузите файл `wordpress_members_import_FINAL.csv`
4. Укажите папку с фотографиями: `Photos`
5. Установите галочки:
   - ☑ Обновлять существующих участников
   - ☑ Создавать пользователей (опционально)
6. Нажмите **Импортировать**

### Шаг 3: Активация новых шаблонов

Плагин автоматически загружает шаблоны из своей директории, если тема их не содержит.

Если хотите кастомизировать шаблоны:

```bash
cp single-members.php /path/to/theme/single-members.php
cp templates/archive-members.php /path/to/theme/archive-members.php
```

Или используйте кнопку "Скопировать шаблон в тему" в админке WordPress.

## Цветовая схема

Проект использует фирменные цвета Ассоциации "Метода":

- **Основной цвет (primary)**: #0066cc (синий)
- **Акцентный цвет (accent)**: #ff6600 (оранжевый)

Эти цвета используются для:
- Кнопок и ссылок
- Буллетов в списках
- Тегов ролей
- Иконок

## Дизайн-макеты

Дизайн основан на HTML-макетах от дизайнера:

1. **Archive Desktop.html / Archive Mobile.html**
   - Архив участников с фильтрами
   - Реализовано в `templates/archive-members.php`

2. **Profile Desktop.html / Profile Mobile.html**
   - Профиль участника
   - ✅ Реализовано в `single-members.php`

3. **Member Admin Page Desktop/Mobile.html**
   - Личный кабинет участника
   - ✅ Реализовано в `templates/member-dashboard.php`

4. **Manager Admin Panel Desktop/Mobile.html**
   - Админка менеджера
   - ✅ Реализовано в `templates/manager-panel.php`

5. **New Member Registration Desktop/Mobile.html**
   - Регистрация нового участника
   - ✅ Реализовано в `templates/member-registration.php`

## Технологии

- **WordPress** - CMS
- **Tailwind CSS** - фреймворк стилей
- **Font Awesome 6** - иконки
- **Inter** - шрифт
- **PHP 7.4+** - серверная логика

## Фотографии участников

Фотографии должны быть в папке `Photos/` и называться по ФИО участника:

```
Photos/
├── Летяева Ольга Валерьевна.jpg
├── Лебедев Максим Андреевич.jpg
├── Селецкий Эдуард Борисович.jpg
└── ...
```

Поддерживаемые форматы: jpg, jpeg, png (включая заглавные буквы).

## Структура данных в CSV

Заголовки CSV должны соответствовать полям WordPress:

| CSV заголовок | Поле WordPress | Тип |
|---------------|----------------|-----|
| post_title | Заголовок поста | текст |
| member_company | Мета-поле | текст |
| member_position | Мета-поле | текст |
| member_city | Мета-поле | текст |
| taxonomy_member_role | Таксономия | теги (разделитель \|) |
| member_specialization_experience | Мета-поле | textarea (разделитель \|) |
| member_professional_interests | Мета-поле | textarea (разделитель \|) |
| member_expectations | Мета-поле | HTML |
| member_bio | Мета-поле | HTML |

## Дальнейшие улучшения

- [ ] Реализовать личный кабинет участника
- [ ] Реализовать админку менеджера
- [ ] Реализовать форму регистрации
- [ ] Добавить AJAX-фильтрацию
- [ ] Добавить экспорт в PDF
- [ ] Добавить статистику участников
- [ ] Мобильная адаптация

## Контакты

При возникновении вопросов обращайтесь к разработчику.
