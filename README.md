# Metoda Community MGMT

**Полнофункциональная система управления участниками и экспертами сообщества**

## Описание

WordPress плагин для управления членами профессионального сообщества с расширенными возможностями:

### Основные возможности

- **Регистрация участников** с валидацией данных
- **Система кодов доступа** для импортированных участников
- **Личные кабинеты** с пошаговым онбордингом
- **Управление материалами** с WYSIWYG-редактором
- **Форум в стиле Reddit** с категориями и лайками
- **Email-шаблоны** с настройкой
- **CSV-импорт** участников
- **Кроппер фотографий**
- **Система ролей и прав доступа**
- **Поиск и фильтрация** участников

### Типы участников

- Участники (обычные члены сообщества)
- Эксперты (специалисты с расширенным профилем)

### Профили участников

Каждый профиль содержит:
- ФИО и фотографию
- Компанию и должность
- Город
- Специализацию и стаж (с поддержкой списков)
- Сферу профессиональных интересов (с поддержкой списков)
- Ожидания от сотрудничества
- Информацию о себе
- Связь с аккаунтом WordPress

## Установка

### Через админку WordPress

1. Перейдите в **Плагины → Добавить новый**
2. Нажмите **Загрузить плагин**
3. Выберите файл `metoda-community-mgmt-vX.X.X.zip`
4. Нажмите **Установить**
5. После установки нажмите **Активировать**

### Вручную через FTP/SSH

1. Распакуйте архив `metoda-community-mgmt-vX.X.X.zip`
2. Загрузите папку `metoda-community-mgmt` в `wp-content/plugins/`
3. Активируйте плагин в админке WordPress

## Настройка после установки

### Создание необходимых страниц

Плагин создаёт следующие страницы автоматически:
- `/member-dashboard/` - Личный кабинет участника
- `/member-registration/` - Регистрация нового участника
- `/members/` - Каталог участников
- `/forum/` - Форум сообщества

### Импорт участников

Для импорта участников из CSV используйте скрипт `import-members-final.php` (см. INSTALLATION-AND-IMPORT-GUIDE.md)

### Импорт фотографий

Для импорта фотографий участников используйте скрипт `import-photos-from-csv.php` (см. INSTALLATION-AND-IMPORT-GUIDE.md)

## Структура плагина

```
metoda-community-mgmt/
├── members-management-pro.php    # Главный файл плагина
├── single-members.php             # Шаблон отдельного участника
├── includes/                      # PHP классы
│   ├── class-member-manager.php
│   ├── class-member-dashboard.php
│   ├── class-member-forum.php
│   ├── class-member-archive.php
│   └── ...
├── templates/                     # HTML шаблоны
│   ├── member-dashboard.php
│   ├── member-registration.php
│   ├── archive-members.php
│   └── ...
└── assets/                        # CSS и JS файлы
    ├── css/
    └── js/
```

## Использованные технологии

- WordPress Custom Post Types
- WordPress REST API
- AJAX для динамических обновлений
- Cropper.js для обрезки изображений
- TinyMCE для WYSIWYG редактора

## Кастомизация

### Шаблоны

Вы можете переопределить шаблоны плагина в своей теме:

```
wp-content/themes/your-theme/metoda-community-mgmt/
└── single-members.php
```

### Стили

Добавьте свои стили для переопределения:

```css
/* Переопределение цвета буллетов */
.member-bullet-list li::marker {
    color: #your-color;
}
```

## Технические требования

- WordPress 5.0+
- PHP 7.4+
- MySQL 5.6+

## Безопасность

### Аварийное отключение плагина

Если плагин вызывает проблемы, добавьте в `wp-config.php`:

```php
define('METODA_DISABLE_PLUGIN', true);
```

Это полностью отключит плагин без деактивации через админку.

## Версии

### v3.2.5 (текущая)
- Исправлена структура ZIP для корректной установки через WordPress
- Улучшен README с подробной документацией

### v3.2.4
- Исправлены названия мета-полей (member_city, member_specialization_experience, member_professional_interests)
- Добавлена поддержка русских имён файлов для фотографий
- Корректное отображение буллетов в специализации и интересах

### v3.2.3
- Переименованы файлы фотографий в корректный формат
- Расширен маппинг английских имён на русские

## Автор

**Kirill Rem**

## Лицензия

Проприетарная - для использования в проекте Metoda Community

## Поддержка

Для вопросов и технической поддержки обращайтесь к разработчику.

## Документация

Подробная документация по установке и импорту данных:
- `INSTALLATION-AND-IMPORT-GUIDE.md` - Полное руководство по установке и импорту
- `PHOTO-MAPPING.txt` - Анализ соответствия фотографий участникам
- `MISSING-PHOTOS-NAMES.txt` - Список недостающих фотографий
